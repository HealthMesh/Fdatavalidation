@prefix odrl: <http://www.w3.org/ns/odrl/2/> .
@prefix tb: <http://www.semanticweb.org/acraf/ontologies/2024/healthmesh/tbox#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .

tb:PrivacyShape a sh:NodeShape ;
    sh:targetClass odrl:Privacy ;
    sh:property [
        sh:path odrl:duty ;
        sh:node tb:DutyShape ;
        sh:minCount 1
    ] .

tb:DutyShape a sh:NodeShape ;
    sh:targetClass odrl:Duty ;
    sh:property [
        sh:path odrl:target ;
        sh:nodeKind sh:IRI ;
        sh:minCount 1
    ] ;
    sh:property [
        sh:path odrl:action ;
        sh:node tb:ActionShape ;
        sh:minCount 1
    ] .

# todo: restrict to anonymize/aggregate
tb:ActionShape a sh:NodeShape ;
    sh:targetClass odrl:anonymize ;
    sh:property [
        sh:path rdf:type ;
        sh:hasValue odrl:Action ;
    ] .

