@prefix ab: <http://www.semanticweb.org/acraf/ontologies/2024/healthmesh/abox#> .
@prefix dcat1: <https://www.w3.org/ns/dcat#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix ns1: <http://www.w3.org/ns/dqv#> .
@prefix odrl: <http://www.w3.org/ns/odrl/2/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix prov: <http://www.w3.org/ns/prov#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix tb: <http://www.semanticweb.org/acraf/ontologies/2024/healthmesh/tbox#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

dcterms:format a owl:DatatypeProperty ;
    rdfs:domain tb:DatasetTypeTemplate ;
    rdfs:range xsd:string .

dcterms:identifier a owl:DatatypeProperty ;
    rdfs:domain odrl:Asset ;
    rdfs:range xsd:string .

ab:0002DCM a dcat1:Dataset ;
    dcterms:identifier "9dd5ec0077b9e3725105a52ab53bee9921f25820fef3561e5ef0c4c1823d28dd" ;
    tb:hasAttribute ab:AccessionNumber,
        ab:BitsAllocated,
        ab:BitsStored,
        ab:Columns,
        ab:Exposure,
        ab:FrameIncrementPointer,
        ab:FrameTime,
        ab:HighBit,
        ab:ImageType,
        ab:InstanceNumber,
        ab:InstitutionAddress,
        ab:InstitutionName,
        ab:KVP,
        ab:LossyImageCompressionRetired,
        ab:Manufacturer,
        ab:MaskSubtractionSequence,
        ab:Modality,
        ab:NumberOfFrames,
        ab:PatientBirthDate,
        ab:PatientID,
        ab:PatientName,
        ab:PatientOrientation,
        ab:PatientSex,
        ab:PerformingPhysicianName,
        ab:PhotometricInterpretation,
        ab:PixelData,
        ab:PixelIntensityRelationship,
        ab:PixelRepresentation,
        ab:PositionerMotion,
        ab:PositionerPrimaryAngle,
        ab:PositionerSecondaryAngle,
        ab:RWavePointer,
        ab:RadiationSetting,
        ab:RecommendedViewingMode,
        ab:ReferringPhysicianName,
        ab:Rows,
        ab:SOPClassUID,
        ab:SOPInstanceUID,
        ab:SamplesPerPixel ;
    tb:hasDC ab:dc_0002DCM ;
    tb:hasDTT ab:Image ;
    tb:hasTA ab:0002DCM_TA ;
    tb:owner "Unknown" .

ab:552c6c46-d7da-4be6-9b35-139652f5dd37 a tb:PolicyChecker ;
    tb:hasType ab:Tabular ;
    tb:nextStep ab:32581ceb-c99d-4e74-b395-796046c29136 ;
    tb:validates ab:p1 .

ab:6d8586fc-3544-4312-9205-4e6a4ee81977 a tb:PolicyChecker ;
    tb:hasType ab:Tabular ;
    tb:nextStep ab:9592feb6-efc5-49a0-a34c-35c8a43d91fa ;
    tb:validates ab:p2 .

ab:Patient_Data a tb:DataProduct ;
    dcterms:identifier "123456" ;
    tb:hasFeature ab:Age,
        ab:Subject ;
    tb:owner "FederatedTeam" .

ab:UPENN-GBM_clinical_info_v21csv a dcat1:Dataset ;
    dcterms:identifier "209a1558e4632d7bb78819c8f337a8cd0e4c1db764206da35144ee5f10f31df9" ;
    tb:hasAttribute ab:Age_at_scan_years,
        ab:GTR_over90percent,
        ab:Gender,
        ab:ID,
        ab:IDH1,
        ab:KPS,
        ab:MGMT,
        ab:PsP_TP_score,
        ab:Survival_Censor,
        ab:Survival_Status,
        ab:Survival_from_surgery_days_UPDATED,
        ab:Time_since_baseline_preop ;
    tb:hasDC ab:dc_UPENN-GBM_clinical_info_v21csv ;
    tb:hasDTT ab:Tabular ;
    tb:hasTA ab:UPENN-GBM_clinical_info_v21csv_TA ;
    tb:owner "Unknown" .

ab:cbf0cf67-1fa6-4d4e-910a-e8863c5e5897 a tb:PolicyChecker ;
    tb:hasType ab:Tabular ;
    tb:nextStep ab:9b130db1-8385-40b8-ba8a-27408d57af76 ;
    tb:validates ab:p2 .

ab:e797752e-3e55-47cf-9f74-01c312d7bdd6 a tb:PolicyChecker ;
    tb:hasType ab:Tabular ;
    tb:nextStep ab:41ef37f1-0513-4bf4-bc15-ecdf5ce14523 ;
    tb:validates ab:p1 .

ab:p3 a odrl:Privacy ;
    odrl:duty ab:AnonDutyC .

<http://www.semanticweb.org/acraf/ontologies/2024/healthmesh/tbox> a owl:Ontology ;
    rdfs:label "HealthMesh Ontology"@en ;
    rdfs:isDefinedBy """Aniol Bisquert (UPC)
Achraf Hmimou (UPC)"""@en ;
    owl:versionIRI <http://www.semanticweb.org/acraf/ontologies/2024/healthmesh/0.1> .

tb:attribute a owl:DatatypeProperty ;
    rdfs:domain tb:Attribute ;
    rdfs:range xsd:string .

tb:code a owl:DatatypeProperty ;
    rdfs:domain tb:Code ;
    rdfs:range xsd:string .

tb:feature a owl:DatatypeProperty ;
    rdfs:domain tb:Feature ;
    rdfs:range xsd:string ;
    rdfs:subPropertyOf owl:topDataProperty .

tb:hasAttribute a owl:ObjectProperty ;
    rdfs:domain dcat1:Dataset ;
    rdfs:range tb:Attribute .

tb:hasDC a owl:ObjectProperty ;
    rdfs:domain odrl:Asset ;
    rdfs:range tb:DataContract .

tb:hasDTT a owl:ObjectProperty ;
    rdfs:domain odrl:Asset ;
    rdfs:range tb:DatasetTypeTemplate .

tb:hasFeature a owl:ObjectProperty ;
    rdfs:domain tb:DataProduct ;
    rdfs:range tb:Feature ;
    rdfs:subPropertyOf owl:topObjectProperty .

tb:hasImplementation a owl:ObjectProperty ;
    rdfs:domain tb:Operation ;
    rdfs:range tb:Implementation ;
    rdfs:subPropertyOf owl:topObjectProperty .

tb:hasLibrary a owl:ObjectProperty ;
    rdfs:domain tb:Implementation ;
    rdfs:range tb:Library ;
    rdfs:subPropertyOf owl:topObjectProperty .

tb:hasMethod a owl:ObjectProperty ;
    rdfs:domain tb:Implementation ;
    rdfs:range tb:Code .

tb:hasPolicy a owl:ObjectProperty ;
    rdfs:domain tb:DataContract ;
    rdfs:range odrl:Policy .

tb:hasStep a owl:ObjectProperty ;
    rdfs:domain tb:Operation,
        tb:PolicyChecker ;
    rdfs:range tb:Operation ;
    rdfs:subPropertyOf owl:topObjectProperty .

tb:hasTA a owl:ObjectProperty ;
    rdfs:domain odrl:Asset ;
    rdfs:range tb:TechnologyAspects .

tb:hasTemplate a owl:ObjectProperty ;
    rdfs:domain tb:PolicyChecker ;
    rdfs:range tb:Template ;
    rdfs:subPropertyOf owl:topObjectProperty .

tb:implements a owl:ObjectProperty ;
    rdfs:domain tb:PolicyChecker ;
    rdfs:range odrl:Action .

tb:name a owl:DatatypeProperty ;
    rdfs:domain tb:Library ;
    rdfs:range xsd:string .

tb:operation a owl:DatatypeProperty ;
    rdfs:domain tb:Operation ;
    rdfs:range xsd:string ;
    rdfs:subPropertyOf owl:topDataProperty .

tb:owner a owl:DatatypeProperty ;
    rdfs:domain odrl:Asset ;
    rdfs:range xsd:string .

tb:supports a owl:ObjectProperty ;
    rdfs:domain tb:Library ;
    rdfs:range tb:DatasetTypeTemplate ;
    rdfs:subPropertyOf owl:topObjectProperty .

tb:template a owl:DatatypeProperty ;
    rdfs:domain tb:Template ;
    rdfs:range xsd:string ;
    rdfs:subPropertyOf owl:topDataProperty .

odrl:action a owl:ObjectProperty ;
    rdfs:domain odrl:Duty ;
    rdfs:range odrl:Action .

odrl:duty a owl:ObjectProperty ;
    rdfs:domain odrl:Permission ;
    rdfs:range odrl:Duty ;
    rdfs:subPropertyOf owl:topObjectProperty .

odrl:permission a owl:ObjectProperty ;
    rdfs:domain odrl:Privacy ;
    rdfs:range odrl:Permission .

ab:0002DCM_TA a tb:TechnologyAspects ;
    tb:typeAcces ab:b4511783-8e18-48c4-b602-b496312887eb .

ab:05de044e-a6ba-4d6e-873b-e0441be59dd4 a tb:Acces ;
    rdfs:label ab:Static ;
    tb:path "/home/acraf/psr/Fdatavalidation/DataProductLayer/DataProduct/Data/Explotation/UPENN-GBM_clinical_info_v2.1.csv" .

ab:1a9196c5-40d8-4ad6-924d-be7542125384 a tb:SchemaMapping ;
    tb:mfrom ab:PatientID ;
    tb:mto ab:Subject .

ab:1c046948-d560-4e71-8d60-617e467d3142 a tb:Report .

ab:2105d52c-77d5-4f5a-a3d1-19a5c00dd741 a tb:Operation ;
    tb:hasAbstract odrl:anonymize ;
    tb:hasAttribute ab:ID ;
    tb:hasInput ab:data ;
    tb:hasOutput ab:boolean ;
    tb:hasTranslation ab:Imp2 ;
    tb:nextStep ab:5e469b49-e3a0-4294-b3b3-267319250959 .

ab:268ff2f7-3994-46d2-9abd-5cb13f93185d a tb:Operation ;
    tb:hasAbstract ab:qM ;
    tb:hasAttribute ab:Age_at_scan_years ;
    tb:hasInput ab:data ;
    tb:hasOutput ab:data ;
    tb:nextStep ab:c7c99c92-572f-4842-9191-658c7370d671 .

ab:32581ceb-c99d-4e74-b395-796046c29136 a tb:initOperation ;
    tb:hasAbstract ab:LoadData ;
    tb:hasOutput ab:data ;
    tb:hasParameter "/home/acraf/psr/Fdatavalidation/DataProductLayer/DataProduct/Data/Explotation/UPENN-GBM_clinical_info_v2.1.csv" ;
    tb:hasTranslation ab:Imp1 ;
    tb:nextStep ab:2105d52c-77d5-4f5a-a3d1-19a5c00dd741 .

ab:41ef37f1-0513-4bf4-bc15-ecdf5ce14523 a tb:initOperation ;
    tb:hasAbstract ab:LoadData ;
    tb:hasOutput ab:data ;
    tb:hasParameter "/home/acraf/psr/Fdatavalidation/DataProductLayer/DataProduct/Data/Explotation/UPENN-GBM_clinical_info_v2.1.csv" ;
    tb:nextStep ab:ef70dac5-dc57-4730-97ce-d05616431653 .

ab:5e469b49-e3a0-4294-b3b3-267319250959 a tb:Report ;
    tb:result "False" .

ab:7970c221-8dc9-4010-8b6b-7648f5295d40 a tb:SchemaMapping ;
    tb:mfrom ab:Age_at_scan_years ;
    tb:mto ab:Age .

ab:81ea2eba-e73a-451a-bc0a-a769ed18f5bf a tb:Report .

ab:8279c95b-fe1e-4648-a9b1-963d8ebab582 a tb:Report .

ab:9592feb6-efc5-49a0-a34c-35c8a43d91fa a tb:initOperation ;
    tb:hasAbstract ab:LoadData ;
    tb:hasOutput ab:data ;
    tb:hasParameter "/home/acraf/psr/Fdatavalidation/DataProductLayer/DataProduct/Data/Explotation/UPENN-GBM_clinical_info_v2.1.csv" ;
    tb:nextStep ab:268ff2f7-3994-46d2-9abd-5cb13f93185d .

ab:96d6ee1a-93c6-4d6b-a263-62409887ab91 a tb:SchemaMapping ;
    tb:mfrom ab:ID ;
    tb:mto ab:Subject .

ab:9b130db1-8385-40b8-ba8a-27408d57af76 a tb:initOperation ;
    tb:hasAbstract ab:LoadData ;
    tb:hasOutput ab:data ;
    tb:hasParameter "/home/acraf/psr/Fdatavalidation/DataProductLayer/DataProduct/Data/Explotation/UPENN-GBM_clinical_info_v2.1.csv" ;
    tb:nextStep ab:c447702e-52a0-4cdd-97db-f2c3477ad99f .

ab:AccessionNumber a tb:Attribute ;
    tb:attribute "AccessionNumber" .

ab:AnonDuty a odrl:Duty ;
    odrl:action odrl:anonymize ;
    odrl:target ab:Subject .

ab:AnonDutyC a odrl:Duty ;
    odrl:action odrl:anonymize ;
    odrl:constraint odrl:c2 ;
    odrl:target ab:ID .

ab:BitsAllocated a tb:Attribute ;
    tb:attribute "BitsAllocated" .

ab:BitsStored a tb:Attribute ;
    tb:attribute "BitsStored" .

ab:Columns a tb:Attribute ;
    tb:attribute "Columns" .

ab:CompleteDuty a odrl:Duty ;
    odrl:constraint odrl:c1 ;
    odrl:target ab:Age .

ab:Completeness a ns1:Dimension .

ab:Exposure a tb:Attribute ;
    tb:attribute "Exposure" .

ab:FrameIncrementPointer a tb:Attribute ;
    tb:attribute "FrameIncrementPointer" .

ab:FrameTime a tb:Attribute ;
    tb:attribute "FrameTime" .

ab:GTR_over90percent a tb:Attribute ;
    tb:attribute "GTR_over90percent" .

ab:Gender a tb:Attribute ;
    tb:attribute "Gender" .

ab:HighBit a tb:Attribute ;
    tb:attribute "HighBit" .

ab:IDH1 a tb:Attribute ;
    tb:attribute "IDH1" .

ab:Image a tb:DatasetTypeTemplate ;
    dcterms:format ".DCM" .

ab:ImageType a tb:Attribute ;
    tb:attribute "ImageType" .

ab:Imp1 a tb:Implementation ;
    tb:dependsOn ab:Imp1CodeDep1 ;
    tb:forOp ab:LoadData ;
    tb:forType ab:Tabular ;
    tb:hasCode ab:Imp1Code ;
    tb:hasParameters ab:Imp1CodeParam1 ;
    tb:returns "pandas.DataFrame" .

ab:Imp1Code a tb:Code ;
    tb:code "pandas.read_csv(p)" .

ab:Imp1CodeParam1 a tb:Parameter ;
    tb:name "p" ;
    tb:type "str" .

ab:Imp1CodeParam2 a tb:Parameter ;
    tb:name "data" ;
    tb:type "pandas.DataFrame" .

ab:Imp2 a tb:Implementation ;
    tb:dependsOn ab:Imp1CodeDep1 ;
    tb:forOp odrl:anonymize ;
    tb:forType ab:Tabular ;
    tb:hasCode ab:Imp2Code ;
    tb:hasParameters ab:Imp1CodeParam2,
        ab:Imp2CodeParam1 ;
    tb:returns "boolean" .

ab:Imp2Code a tb:Code ;
    tb:code "data[attr].isna().all()" .

ab:Imp2CodeParam1 a tb:Parameter ;
    tb:name "attr" ;
    tb:type "str" .

ab:InstanceNumber a tb:Attribute ;
    tb:attribute "InstanceNumber" .

ab:InstitutionAddress a tb:Attribute ;
    tb:attribute "InstitutionAddress" .

ab:InstitutionName a tb:Attribute ;
    tb:attribute "InstitutionName" .

ab:KPS a tb:Attribute ;
    tb:attribute "KPS" .

ab:KVP a tb:Attribute ;
    tb:attribute "KVP" .

ab:LossyImageCompressionRetired a tb:Attribute ;
    tb:attribute "LossyImageCompressionRetired" .

ab:MGMT a tb:Attribute ;
    tb:attribute "MGMT" .

ab:Manufacturer a tb:Attribute ;
    tb:attribute "Manufacturer" .

ab:MaskSubtractionSequence a tb:Attribute ;
    tb:attribute "MaskSubtractionSequence" .

ab:Modality a tb:Attribute ;
    tb:attribute "Modality" .

ab:NumberOfFrames a tb:Attribute ;
    tb:attribute "NumberOfFrames" .

ab:PatientBirthDate a tb:Attribute ;
    tb:attribute "PatientBirthDate" .

ab:PatientName a tb:Attribute ;
    tb:attribute "PatientName" .

ab:PatientOrientation a tb:Attribute ;
    tb:attribute "PatientOrientation" .

ab:PatientSex a tb:Attribute ;
    tb:attribute "PatientSex" .

ab:PerformingPhysicianName a tb:Attribute ;
    tb:attribute "PerformingPhysicianName" .

ab:PhotometricInterpretation a tb:Attribute ;
    tb:attribute "PhotometricInterpretation" .

ab:PixelData a tb:Attribute ;
    tb:attribute "PixelData" .

ab:PixelIntensityRelationship a tb:Attribute ;
    tb:attribute "PixelIntensityRelationship" .

ab:PixelRepresentation a tb:Attribute ;
    tb:attribute "PixelRepresentation" .

ab:PositionerMotion a tb:Attribute ;
    tb:attribute "PositionerMotion" .

ab:PositionerPrimaryAngle a tb:Attribute ;
    tb:attribute "PositionerPrimaryAngle" .

ab:PositionerSecondaryAngle a tb:Attribute ;
    tb:attribute "PositionerSecondaryAngle" .

ab:PsP_TP_score a tb:Attribute ;
    tb:attribute "PsP_TP_score" .

ab:RWavePointer a tb:Attribute ;
    tb:attribute "RWavePointer" .

ab:RadiationSetting a tb:Attribute ;
    tb:attribute "RadiationSetting" .

ab:RecommendedViewingMode a tb:Attribute ;
    tb:attribute "RecommendedViewingMode" .

ab:ReferringPhysicianName a tb:Attribute ;
    tb:attribute "ReferringPhysicianName" .

ab:Rows a tb:Attribute ;
    tb:attribute "Rows" .

ab:SOPClassUID a tb:Attribute ;
    tb:attribute "SOPClassUID" .

ab:SOPInstanceUID a tb:Attribute ;
    tb:attribute "SOPInstanceUID" .

ab:SamplesPerPixel a tb:Attribute ;
    tb:attribute "SamplesPerPixel" .

ab:Survival_Censor a tb:Attribute ;
    tb:attribute "Survival_Censor" .

ab:Survival_Status a tb:Attribute ;
    tb:attribute "Survival_Status" .

ab:Survival_from_surgery_days_UPDATED a tb:Attribute ;
    tb:attribute "Survival_from_surgery_days_UPDATED" .

ab:Time_since_baseline_preop a tb:Attribute ;
    tb:attribute "Time_since_baseline_preop" .

ab:UPENN-GBM_clinical_info_v21csv_TA a tb:TechnologyAspects ;
    tb:typeAcces ab:05de044e-a6ba-4d6e-873b-e0441be59dd4 .

ab:b4511783-8e18-48c4-b602-b496312887eb a tb:Acces ;
    rdfs:label ab:Static ;
    tb:path "/home/acraf/psr/Fdatavalidation/DataProductLayer/DataProduct2/Data/0002.DCM" .

ab:c447702e-52a0-4cdd-97db-f2c3477ad99f a tb:Operation ;
    tb:hasAbstract ab:qM ;
    tb:hasAttribute ab:Age_at_scan_years ;
    tb:hasInput ab:data ;
    tb:hasOutput ab:data ;
    tb:nextStep ab:d6fdf286-b68b-4ae3-8560-c46658fec110 .

ab:c7c99c92-572f-4842-9191-658c7370d671 a tb:Operator ;
    tb:hasAbstract odrl:Constraint ;
    tb:hasOutput ab:data ;
    tb:lo ab:data ;
    tb:nextStep ab:81ea2eba-e73a-451a-bc0a-a769ed18f5bf ;
    tb:op "odrl:gteq" ;
    tb:ro 99.0 .

ab:countValues a prov:SoftwareAgent .

ab:d6fdf286-b68b-4ae3-8560-c46658fec110 a tb:Operator ;
    tb:hasAbstract odrl:Constraint ;
    tb:hasOutput ab:data ;
    tb:lo ab:data ;
    tb:nextStep ab:1c046948-d560-4e71-8d60-617e467d3142 ;
    tb:op "odrl:gteq" ;
    tb:ro 99.0 .

ab:dc_0002DCM a tb:DataContract ;
    tb:hasMapping ab:1a9196c5-40d8-4ad6-924d-be7542125384 ;
    tb:hasPolicy ab:p1 .

ab:dc_UPENN-GBM_clinical_info_v21csv a tb:DataContract ;
    tb:hasMapping ab:7970c221-8dc9-4010-8b6b-7648f5295d40,
        ab:96d6ee1a-93c6-4d6b-a263-62409887ab91 ;
    tb:hasPolicy ab:p1,
        ab:p2 .

ab:ef70dac5-dc57-4730-97ce-d05616431653 a tb:Operation ;
    tb:hasAbstract odrl:anonymize ;
    tb:hasAttribute ab:ID ;
    tb:hasInput ab:data ;
    tb:hasOutput ab:boolean ;
    tb:nextStep ab:8279c95b-fe1e-4648-a9b1-963d8ebab582 .

ab:percentatgeFromTotal a ns1:Metric ;
    ns1:inDimension ab:Completeness .

odrl:c1 a odrl:Constraint ;
    odrl:leftOperand ab:qM ;
    odrl:operator "odrl:gteq" ;
    odrl:rightOperand 99.0 .

odrl:c2 a odrl:Constraint ;
    odrl:leftOperand ab:ID ;
    odrl:operator "odrl:isA" ;
    odrl:rightOperand "xsd:string" .

ab:Imp1CodeDep1 a tb:Library ;
    tb:name "pandas" ;
    tb:version "1.0.0" .

ab:PatientID a tb:Attribute ;
    tb:attribute "PatientID" .

tb:DataProduct a owl:Class ;
    rdfs:label "DataProduct"@en ;
    rdfs:subClassOf odrl:Asset .

tb:Template a owl:Class .

odrl:Permission a owl:Class ;
    rdfs:subClassOf odrl:Rule .

odrl:Policy a owl:Class .

odrl:Rule a owl:Class .

ab:Age a tb:Feature .

ab:p2 a ns1:QualityPolicy ;
    odrl:duty ab:CompleteDuty .

ab:qM a ns1:QualityMeasurement ;
    ns1:isMeasurementOf ab:percentatgeFromTotal ;
    ns1:value "" ;
    prov:wasAssociatedWith ab:countValues .

tb:TechnologyAspects a owl:Class .

odrl:Action a owl:Class .

odrl:Privacy a owl:Class ;
    rdfs:subClassOf odrl:Policy .

dcat1:Dataset a owl:Class ;
    rdfs:subClassOf odrl:Asset .

ab:Age_at_scan_years a tb:Attribute ;
    tb:attribute "Age_at_scan_years" .

ab:Subject a tb:Feature .

ab:p1 a odrl:Privacy ;
    odrl:duty ab:AnonDuty .

tb:Code a owl:Class .

tb:DataContract a owl:Class .

tb:Feature a owl:Class .

tb:Library a owl:Class .

ab:LoadData a tb:Operation .

tb:DatasetTypeTemplate a owl:Class .

tb:Implementation a owl:Class .

odrl:Duty a owl:Class ;
    rdfs:subClassOf odrl:Rule .

odrl:anonymize a tb:Operation,
        odrl:Action .

ab:ID a tb:Attribute ;
    tb:attribute "ID" .

ab:Tabular a tb:DatasetTypeTemplate ;
    dcterms:format ".csv" .

tb:PolicyChecker a owl:Class .

odrl:Asset a owl:Class .

tb:Operation a owl:Class .

tb:Attribute a owl:Class .

